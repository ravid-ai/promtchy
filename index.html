<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ูพุฑุงูุชฺ</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" integrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw==" crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>
<body>
    <div class="container">
        <header>
            <h1><i class="fas fa-microchip"></i><i class="fas fa-brain"></i> ูพุฑุงูุชฺ!</h1>
            <p>ูพุฑุงูุชฺ ฺฉุงุฑุดู ุจูุฏู. ุงุฏูโุชู ุจุฏูุ ูพุฑุงููพุช ุฎูู ุชุญูู ุจฺฏุฑ!</p>
        </header>

        <main class="main-layout">
            <div class="input-panel">
                <h2><i class="fas fa-edit"></i> ุงุฏู ุงูููโุงุช ุฑู ุงูุฌุง ุจููุณ</h2>
                <textarea id="userInput" placeholder="ูุซูุงู: ู ฺฏุฑุจู ูุถุงููุฑุฏ ฺฉู ุฏุงุฑู ุฑู ูุงู ฺฏุชุงุฑ ูโุฒูู ุฏุฑ ุญุงู ฺฉู ุฒูู ุชู ูพุณโุฒููู ูโุฏุฑุฎุดู..." aria-label="ุงุฏู ุงููู ุจุฑุง ูพุฑุงููพุช"></textarea>

                <div class="ai-target-selector">
                    <label for="aiTypeSelector">ุงู ูพุฑุงููพุช ุจุฑุง ฺู ููุน ููุด ูุตููุน ุณุงุฎุชู ุจุดูุ</label>
                    <select id="aiTypeSelector" aria-label="ุงูุชุฎุงุจ ููุน ููุด ูุตููุน ููุตุฏ">
                        <option value="image" selected>๐ผ๏ธ ุนฺฉุณโุณุงุฒ (ูุซู Midjourney, DALL-E)</option>
                        <option value="video">๐ฌ ูุฏูโุณุงุฒ (ูุซู Runway, Pika)</option>
                        <option value="research">๐ฌ ุชุญููุงุช ู ุชููุฏ ูุชู (ูุซู ุฎูุฏ Gemini, ChatGPT)</option>
                    </select>
                </div>

                <div class="options" id="visualOptions">
                    <select id="styleSelector" aria-label="ุงูุชุฎุงุจ ุณุจฺฉ ุจุตุฑ ุง ููุฑ (ุงุฎุชุงุฑ)">
                        <option value="">ุณุจฺฉ ุจุตุฑ/ููุฑ ุฎุงุต ูุฏ ูุธุฑุชูุ (ุงุฎุชุงุฑ)</option>
                        <option value="Photorealistic">ูุงูุนโฺฏุฑุงุงูู (Photorealistic)</option>
                        <option value="Digital Painting">ููุงุด ุฏุฌุชุงู (Digital Painting)</option>
                        <option value="Cinematic">ุณููุง (Cinematic)</option>
                        <option value="Fantasy Art">ููุฑ ูุงูุชุฒ (Fantasy Art)</option>
                        <option value="Cyberpunk">ุณุงุจุฑูพุงูฺฉ (Cyberpunk)</option>
                        <option value="Anime/Manga">ุงููู/ูุงูฺฏุง (Anime/Manga)</option>
                        <option value="Documentary Style">ุณุจฺฉ ูุณุชูุฏ (ุจุฑุง ูุฏู)</option>
                        <option value="VFX Heavy">ุฌูููโูุง ูฺู ุณูฺฏู (ุจุฑุง ูุฏู)</option>
                        <option value="Low Poly">Low Poly</option>
                        <option value="Impressionistic">ุงููพุฑุณููุณุช (Impressionistic)</option>
                        <option value="Concept Art">ููุฑ ููููู (Concept Art)</option>
                        <option value="Steampunk">ุงุณุชูโูพุงูฺฉ (Steampunk)</option>
                        <option value="Ultra-Realistic CGI">ููู ูุงูุนโฺฏุฑุงุงูู CGI</option>
                        <option value="Vintage Photography">ุนฺฉุงุณ ูุฏู (Vintage)</option>
                        <option value="Watercolor">ุขุจุฑูฺฏ (Watercolor)</option>
                        <option value="Pixel Art">ููุฑ ูพฺฉุณู (Pixel Art)</option>
                    </select>
                    <select id="moodSelector" aria-label="ุงูุชุฎุงุจ ููุฏ ู ุงุชูุณูุฑ (ุงุฎุชุงุฑ)">
                        <option value="">ฺู ููุฏ ู ุงุชูุณูุฑ ุฏุงุดุชู ุจุงุดูุ (ุงุฎุชุงุฑ)</option>
                        <option value="Epic & Grandiose">ุญูุงุณ ู ุจุงุดฺฉูู</option>
                        <option value="Mysterious & Eerie">ูุฑููุฒ ู ูููโุขูุฑ</option>
                        <option value="Joyful & Uplifting">ุดุงุฏ ู ูุดุงุทโุขูุฑ</option>
                        <option value="Dark & Intense">ุชุงุฑฺฉ ู ูพุฑุชูุด</option>
                        <option value="Calm & Serene">ุขุฑุงู ู ูุทู</option>
                        <option value="Vibrant & Energetic">ูพุฑุฌูุจโูุฌูุด ู ูพุฑุงูุฑฺ</option>
                        <option value="Nostalgic & Wistful">ููุณุชุงูฺฺฉ ู ุญุณุฑุชโุงูฺฏุฒ</option>
                        <option value="Ethereal & Dreamlike">ุงุซุฑ ู ุฑูุงฺฏููู</option>
                        <option value="Whimsical & Playful">ูุงูุชุฒ ู ุจุงุฒฺฏูุด</option>
                        <option value="Serious & Formal">ุฌุฏ ู ุฑุณู (ุจุฑุง ุชุญูู)</option>
                        <option value="Informative & Objective">ุงุทูุงุนุงุช ู ุจโุทุฑู (ุจุฑุง ุชุญูู)</option>
                    </select>
                </div>
                <div class="options" id="researchOptions" style="display: none;">
                    <select id="outputFormatSelector" aria-label="ุงูุชุฎุงุจ ูุฑูุช ุฎุฑูุฌ ุชุญูู (ุงุฎุชุงุฑ)">
                        <option value="">ฺู ูุฑูุช ุจุฑุง ุฎุฑูุฌ ุชุญูู ูโุฎูุงุ (ุงุฎุชุงุฑ)</option>
                        <option value="Detailed Report">ฺฏุฒุงุฑุด ูุดุฑูุญ ู ฺฉุงูู</option>
                        <option value="Comparative Analysis">ุชุญูู ุชุทุจู (ููุงุณูโุง)</option>
                        <option value="Step-by-step Explanation">ุชูุถุญ ฺฏุงูโุจูโฺฏุงู</option>
                        <option value="Literature Review">ูุฑูุฑ ุงุฏุจุงุช (Literature Review)</option>
                        <option value="Pros and Cons List">ูุณุช ูุฒุงุง ู ูุนุงุจ</option>
                        <option value="Executive Summary">ุฎูุงุตู ุงุฌุฑุง (ฺฺฉุฏู ูุฏุฑุช)</option>
                        <option value="FAQ List">ูุณุช ูพุฑุณุด ู ูพุงุณุฎ ูุชุฏุงูู (FAQ)</option>
                        <option value="Bullet-point Summary">ุฎูุงุตู ูฺฉุชูโูุงุฑ (Bullet Points)</option>
                        <option value="Story or Narrative">ุฏุงุณุชุงู ุง ุฑูุงุช</option>
                    </select>
                </div>

                <button id="enhanceButton" aria-label="ุฏฺฉูู ูููุฏุณ ูพุฑุงููพุช">
                    <i class="fas fa-cogs"></i> ุฌููุงุ ูููุฏุณุด ฺฉู!
                </button>

                <div class="output-section">
                    <h2><i class="fas fa-lightbulb-on"></i> ูพุฑุงููพุช ูููุฏุณโุดุฏู ุชูุณุท ุฌููุง:</h2>
                    <div id="loadingIndicator" class="loading" style="display: none;" aria-live="polite">
                        <div class="spinner"></div>
                        ุฌููุง ุฏุงุฑู ุจุง ุฏูุช ุจุฑุงุช ูพุฑุฏุงุฒุด ูโฺฉููุ ู ฺฉู ุตุจุฑ ฺฉู ุฑูู...
                    </div>
                    <div id="errorDisplay" class="error-message" style="display: none;" aria-live="assertive"></div>
                    <div class="output-box-container">
                        <div id="geminiOutput" class="output-box" aria-live="polite">
                           ุจุฑุง ุดุฑูุนุ ุงุฏู ู ููุน ููุด ูุตููุน ููุฑุฏ ูุธุฑุช ุฑู ุงูุชุฎุงุจ ฺฉู ู ุฏฺฉูู "ุฌููุงุ ูููุฏุณุด ฺฉู!" ุฑู ุจุฒู!
                        </div>
                        <button id="copyButton" title="ฺฉูพ ฺฉุฑุฏู ูพุฑุงููพุช ูููุฏุณโุดุฏู" style="display: none;" aria-label="ฺฉูพ ฺฉุฑุฏู ูพุฑุงููพุช ุฎุฑูุฌ">
                            <i class="fas fa-copy"></i>
                        </button>
                    </div>
                </div>
            </div>

            <div class="history-panel" aria-labelledby="history-title">
                <h2 id="history-title"><i class="fas fa-history"></i> ุชุงุฑุฎฺู ูพุฑุงููพุชโูุง ุฎูู ุชู</h2>
                <div id="historyContainer" class="history-items">
                    <p class="empty-history-message">ุชุงุฑุฎฺูโุงุช ูููุฒ ุฎุงููุ ุงููู ูพุฑุงููพุช ุฎููุช ุฑู ุจุณุงุฒ!</p>
                    </div>
                <button id="clearHistoryButton" style="display: none;" aria-label="ูพุงฺฉ ฺฉุฑุฏู ฺฉู ุชุงุฑุฎฺู ูพุฑุงููพุชโูุง"><i class="fas fa-trash-alt"></i> ูพุงฺฉ ฺฉุฑุฏู ฺฉู ุชุงุฑุฎฺู</button>
            </div>
        </main>
        <footer>
            <p>ูุฏุฑุช ฺฏุฑูุชู ุงุฒ <i class="fas fa-infinity"></i> ุฌููุง ุจุฑุง ุฎูู ุงุฏูโูุง ุจโูุธุฑ ุชู! ุทุฑุงุญ ู ุชูุณุนู ุจุง ุนุดู โค๏ธ</p>
        </footer>
    </div>

    <script type="module">
      // Using the latest recommended import method for GoogleGenerativeAI
      import { GoogleGenerativeAI } from "https://esm.run/@google/generative-ai";
      // Make it available globally for script.js as it's not a module itself
      window.GoogleGenerativeAI = GoogleGenerativeAI;
    </script>

    <script src="script.js"></script> </body>
</html>